#:kivy 1.11.1

<Interface>:
    orientation: 'vertical'
    FloatLayout:
        id:gui
        canvas:
            Color:
                rgb: 225/255, 228/255, 235/255
            Rectangle:
                size: self.size
        Image:
            source: 'imgs/Background.png'

        #Configurações
        BoxLayout:
            orientation:'vertical'
            pos_hint: {'x':0.68, 'y':0.79}
            #size: 2*99.84, 2*34.56
            size_hint: 2*0.065, 3*0.04
            spacing:7
            canvas:
                Color:
                    rgb:203/255, 208/255, 219/255
                Rectangle:
                    size: self.width+20,self.height+20
                    pos: self.x-10,self.y-10
            Label:
                text:'CONFIGURAÇÕES'
                color: 98/255, 113/255, 142/255
                bold: True
                halign: 'center'
                valigh: 'middle'
                font_size:21
            BoxLayout:
                orientation:'horizontal'
                spacing:7
                Button:
                    text: 'Modbus'
                    #pos_hint: {'x':0.68, 'y':0.79}
                    #size_hint: 0.065, 0.04
                    background_normal: ''
                    background_color: 133/255, 146/255, 171/255
                    background_down: ''
                    on_press: self.background_color= (85/255, 101/255, 133/255)
                    on_release: 
                        self.background_color= (133/255, 146/255, 171/255)
                        root._ModbusPopup.open()
                    
                Button:
                    text: 'Scantime'
                    #pos_hint: {'x':0.68, 'y':0.79}
                    #size_hint: 0.065, 0.04
                    background_normal: ''
                    background_color: 133/255, 146/255, 171/255
                    background_down: ''
                    on_press: self.background_color= (85/255, 101/255, 133/255)
                    on_release: 
                        self.background_color= (133/255, 146/255, 171/255)
                        root._ScanPopup.open()
            Label:
                id: conexao
                text:'DESCONECTADO'
                color: 98/255, 113/255, 142/255
        #Ventiladores Comandos
        CheckBox:
            id: checkboxAxial
            color: 98/255, 113/255, 142/255
            size_hint: 0.05,0.05
            pos_hint: {'x':0.037, 'y':0.485}
            group: 'ventiladoran'
            active: True
            on_active: root.checkboxes(0)
        
        Label:
            text: 'Axial'
            pos_hint: {'x':0.052, 'y':0.487}
            size_hint: 0.065, 0.04
            color: 98/255, 113/255, 142/255
        CheckBox:
            id: checkboxRadial
            color: 98/255, 113/255, 142/255
            size_hint: 0.05,0.05
            pos_hint: {'x':0.137, 'y':0.485}
            group: 'ventiladoran'
            on_active: root.checkboxes(1)
        Label:
            text: 'Radial'
            pos_hint: {'x':0.152, 'y':0.487}
            size_hint: 0.065, 0.04
            color: 98/255, 113/255, 142/255
        Button:
            text: 'Comando'
            size_hint: 0.065, 0.04
            #pos: 65,375 #140,355
            pos_hint: {'x':0.045, 'y':0.44}
            background_normal: ''
            background_color: 133/255, 146/255, 171/255
            background_down: ''
            on_press: self.background_color= (85/255, 101/255, 133/255)
            on_release:
                self.background_color= (133/255, 146/255, 171/255)
                root._comandoVent.open()

        Button:
            text: 'Medidas'
            size_hint: 0.065, 0.04
            pos_hint: {'x':0.143, 'y':0.44}
            #pos: 285,375
            background_normal: ''
            background_color: 133/255, 146/255, 171/255
            background_down: ''
            on_press: self.background_color= (85/255, 101/255, 133/255)
            on_release: 
                self.background_color= (133/255, 146/255, 171/255)
                root._medidasVent.open()
        #Compressores
        BoxLayout:
            orientation:'vertical'
            padding:7
            pos_hint:{'center_x':0.176,'center_y':0.15}
            size_hint:0.08,0.05
            canvas:
                Color:
                    rgb:133/255, 146/255, 171/255
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text:'DESLIGADO'
                bold: True
        BoxLayout:
            orientation:'vertical'
            padding:7
            pos_hint:{'center_x':0.176,'center_y':0.28}
            size_hint:0.08,0.05
            canvas:
                Color:
                    rgb:133/255, 146/255, 171/255
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text:'LIGADO'
                bold: True
        CheckBox:
            id: scroll
            color: 98/255, 113/255, 142/255
            size_hint: 0.05,0.05
            pos_hint: {'x':0.075, 'y':0.293}
            group: 'compressores'
        Button:
            text: 'Comando'
            size_hint: 0.065, 0.04
            pos_hint: {'x':0.045, 'y':0.233}
            background_normal: ''
            background_color: 133/255, 146/255, 171/255
            background_down: ''
            on_press: self.background_color= (85/255, 101/255, 133/255)
            on_release:
                self.background_color= (133/255, 146/255, 171/255)
                root._comandoComp.open()

        Button:
            text: 'Medidas'
            size_hint: 0.065, 0.04
            pos_hint: {'x':0.045, 'y':0.159}
            background_normal: ''
            background_color: 133/255, 146/255, 171/255
            background_down: ''
            on_press: self.background_color= (85/255, 101/255, 133/255)
            on_release: 
                self.background_color= (133/255, 146/255, 171/255)
                root._medidasComp.open()
        CheckBox:
            color: 98/255, 113/255, 142/255
            size_hint: 0.05,0.05
            pos_hint: {'x':0.075, 'y':0.093}
            group: 'compressores'
        
        #Valvulas
        Image:
            id: xv1
            source: 'imgs/ValvulaAzul.png'
            size_hint: 0.12,0.12
            #pos: 352,250
            pos_hint: {'x':0.2280, 'y':0.288}
            #-30,+24
        Image:
            id: xv2
            source: 'imgs/ValvulaBranca.png'
            size_hint: 0.12,0.12
            #pos: 352,165
            pos_hint: {'x':0.2280, 'y':0.19}
        Image:
            id: xv3
            source: 'imgs/ValvulaAzul.png'
            size_hint: 0.12,0.12
           # pos: 352,106
            pos_hint: {'x':0.2280, 'y':0.123}
        Image:
            id: xv4
            source: 'imgs/ValvulaBranca.png'
            size_hint: 0.12,0.12
            #pos: 352,22
            pos_hint: {'x':0.2280, 'y':0.025}
        Image:
            id: xv5
            source: 'imgs/ValvulaAzul.png'
            size_hint: 0.12,0.12
            #pos: 1172,71
            pos_hint: {'x':0.7635, 'y':0.083}


        #Sensores
        Label:
            color: 98/255, 113/255, 142/255
            text: 'SENSORES'
            size_hint: 0.065, 0.04
            pos_hint: {'x':0.545, 'y':0.865}
            font_size: 21
            bold: True
        Label:
            id: pit1
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 560,310
            pos_hint: {'x':0.36, 'y':0.36}
            font_size: 21

        Label:
            id: tit1
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 725,310
            pos_hint: {'x':0.47, 'y':0.36}
            font_size: 21

        Label:
            id: pit2
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 560,225
            pos_hint: {'x':0.36, 'y':0.26}
            font_size: 21

        Label:
            id: tit2
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 725,225
            pos_hint: {'x':0.47, 'y':0.26}
            font_size: 21

        Label:
            id: pit3
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            pos: 375,630
            pos_hint: {'x':0.24, 'y':0.73}
            font_size: 21

        Label:
            id: vazao
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            pos_hint: {'x':0.555, 'y':0.73}
            #pos: 830,630
            font_size: 21

        Label:
            id: vel
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 830,660
            pos_hint: {'x':0.555, 'y':0.82}
            font_size: 21

        Label:
            id: tit3
            color: 98/255, 113/255, 142/255
            text: '-.-'
            size_hint: 0.065, 0.04
            #pos: 830,690
            pos_hint: {'x':0.56, 'y':0.775}
            font_size: 21
        Label:
            id: freq_motor
            color: 98/255, 113/255, 142/255
            text: '0.0 RPM'
            size_hint: 0.06, 0.02
            #pos: 375,630
            pos_hint: {'right':0.220, 'y':0.75}
            font_size: 16
        Label:
            id: torque_motor
            color: 98/255, 113/255, 142/255
            text: '0.0 N.m'
            size_hint: 0.06, 0.02
            #pos: 375,630
            pos_hint: {'right':0.220, 'y':0.78}
            font_size: 16

        #Hélices
        Helices:
            id: hel0
            #pos:-589,85 #-534,75
            pos_hint: {'x':-0.3835, 'y':0.1}
            
            canvas.before:
                PushMatrix
                Rotate:
                    angle: self.angle
                    axis: 0, 0, 1
                    origin: self.center
            canvas.after:
                PopMatrix

            Image:
                id: helice0
                source: 'imgs/vazio.png'
                size_hint: 0.12,0.12
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Helices:
            #pos:-593,255
            pos_hint: {'x':-0.38, 'y':0.296}
            id: hel1
            canvas.before:
                PushMatrix
                Rotate:
                    angle: self.angle
                    axis: 0, 0, 1
                    origin: self.center
            canvas.after:
                PopMatrix

            Image:
                id: helice1
                source: 'imgs/vazio.png'
                size_hint: 0.12,0.12
                pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        #Venezianas
        Slider:
            min: -90
            max: 0
            step: 1
            orientation: 'horizontal'
            color: 1, 1, 1
            size_hint: 0.1,0.1
            #pos: 500, 550
            pos_hint: {'center_x':0.375,'center_y':0.69}
            on_value: root.venezianas(*args)

        Image:
            id: veneziana1
            source: 'imgs/FlapFechado.png'
            keep_ratio: False
            #pos: 565.5,633.75
            pos_hint:{'x':0.3683, 'y':0.7339}
            size_hint: 0.003,0.040
            angle: 0
            allow_stretch: True
            canvas.before:
                PushMatrix
                Rotate:
                    angle: self.angle
                    origin: self.center
            canvas.after:
                PopMatrix

        Image:
            id: veneziana2
            source: 'imgs/FlapFechado.png'
            size_hint: 0.003,0.040
            #pos: 565.5,668.55
            pos_hint:{'x':0.3683, 'y':0.7739}
            allow_stretch: True
            keep_ratio: False
            angle: 0
            canvas.before:
                PushMatrix
                Rotate:
                    angle: self.angle
                    origin: self.center
            canvas.after:
                PopMatrix

        Image:
            id: veneziana3
            source: 'imgs/FlapFechado.png'
            size_hint: 0.003,0.040
            #pos: 565.5,703.5 
            pos_hint: {'x':0.3683, 'y':0.8139}
            allow_stretch: True
            keep_ratio: False
            angle: 0
            canvas.before:
                PushMatrix
                Rotate:
                    angle: self.angle
                    origin: self.center
            canvas.after:
                PopMatrix

        TempBotao:
            text: 'Medidas'
            size_hint: 0.065, 0.04
            #pos: 525, 525
            pos_hint: {'x':0.345, 'y':0.62}
        #TemperaturaRST
        BoxLayout:
            orientation:'vertical'
            pos_hint: {'x':0.265, 'y':0.5}
            size_hint: 0.065, 0.04
            canvas:
                Color:
                    rgb:203/255, 208/255, 219/255
                Rectangle:
                    size: self.width+14,self.height+14
                    pos: self.x-7,self.y-7
            TempBotao: 
                text:'Temperatura'
                on_release: root._tempRSTCar.open()